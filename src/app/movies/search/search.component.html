<mat-card class="search-card">
  <mat-card-header>
    <mat-card-title>
      <h1>Rechercher un film</h1>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Titre du film</mat-label>
      <input
        matInput
        [(ngModel)]="title"
        placeholder="Entrez le titre du film"
      />
    </mat-form-field>
  </mat-card-content>
  <div class="search-button">
    <button mat-raised-button color="primary" (click)="searchMovies()">
      Rechercher
    </button>
  </div>
</mat-card>

<mat-spinner *ngIf="isLoading" class="loading-spinner"></mat-spinner>

<div *ngIf="movies.length > 0 && !isLoading" class="movie-list">
  <mat-card class="movie-card" *ngFor="let movie of movies">
    <img
      mat-card-image
      [src]="'https://image.tmdb.org/t/p/w500/' + movie.poster_path"
      alt="{{ movie.title }}"
    />
    <mat-card-actions class="movie-actions">
      <button
        mat-stroked-button
        color="primary"
        (click)="searchMovieById(movie.id)"
      >
        Info
      </button>
      <button mat-flat-button color="accent" (click)="onSelectMovie(movie)">
        Ajouter
      </button>
      <button mat-flat-button color="primary" (click)="onShare(movie)">
        Partager
      </button>
    </mat-card-actions>
  </mat-card>
</div>
<div
  *ngIf="movies.length === 0 && this.performedSearch"
  class="info-text mat-body-1"
>
  aucun résultat trouvé
</div>
